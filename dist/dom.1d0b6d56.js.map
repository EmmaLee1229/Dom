{"version":3,"sources":["dom.js"],"names":["window","dom","create","string","container","document","createElement","innerHTML","trim","content","firstChild","after","node","node2","parentNode","insertBefore","nextSibling","before","append","parent","appendChild","wrap","remove","removeChild","empty","childNodes","arr","x","push","attr","name","value","arguments","length","setAttribute","getAttribute","text","innerText","contentText","html","style","Object","key","class","add","className","classList","has","contains","on","event","fn","addEventListener","off","removeEventListener","find","selector","scope","querySelectorAll","children","siblings","Array","from","filter","n","next","nodeType","previous","previousSibling","travel","nodeList","i","call","index","count"],"mappings":"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","file":"dom.1d0b6d56.js","sourceRoot":"../src","sourcesContent":["window.dom = {\n    create(string) {\n        const container = document.createElement('template')\n        //trim函数清除空格\n        container.innerHTML = string.trim()\n        return container.content.firstChild\n    },\n    after(node, node2) {\n        node.parentNode.insertBefore(node2, node.nextSibling)\n    },\n    before(node, node2) {\n        node.parentNode.insertBefore(node2, node)\n    },\n    append(parent, node) {\n        parent.appendChild(node)\n    },\n    //用node2包裹node\n    wrap(node, node2) {\n        dom.before(node, node2)\n        dom.append(node2, node)\n    },\n    remove(node) {\n        node.parentNode.removeChild(node)\n        return node\n    },\n    empty(node) {\n        //可简写为 const {childNodes} = node\n        const childNodes = node.childNodes\n        const arr = []\n        let x = node.firstChild\n        while (x) {\n            arr.push(dom.remove(x))\n            x = node.firstChild\n        }\n        return arr\n    },\n    attr(node, name, value) {\n        //重载\n        if (arguments.length === 3) {\n            node.setAttribute(name, value)\n        } else if (arguments.length === 2) {\n            return node.getAttribute(name)\n        }\n    },\n    text(node, string) {\n        if (arguments.length === 2) {\n            if ('innerText' in node) {\n                node.innerText = string\n            } else {\n                node.contentText = string\n            }\n        } else if (arguments.length === 1) {\n            if ('innerText' in node) {\n                return node.innerText\n            } else {\n                return node.contentText\n            }\n        }\n    },\n    html(node, string) {\n        if (arguments.length === 2) {\n            node.innerHTML = string\n        } else if (arguments.length === 1) {\n            return node.innerHTML\n        }\n    },\n    style(node, name, value) {\n        if (arguments.length === 3) {\n            //(node,'color','red')\n            node.style[name] = value\n        } else if (arguments.length === 2) {\n            if (typeof name === 'string') {\n                //(node,'color')\n                return node.style[name]\n            } else if (name instanceof Object) {\n                //(node,{color:'red', border:'1px solid red'})\n                for (let key in name) {\n                    node.style[key] = name[key]\n                }\n            }\n        }\n    },\n    class:{\n        add(node,className){\n            node.classList.add(className)\n        },\n        remove(node,className){\n            node.classList.remove(className)\n        },\n        has(node,className){\n            return node.classList.contains(className)\n        }\n    },\n    on(node,event,fn) {\n        node.addEventListener(event,fn)\n    },\n    off(node,event,fn){\n        node.removeEventListener(event,fn)\n    },\n    find(selector,scope){\n        return (scope||document).querySelectorAll(selector)\n    },\n    parent(node){\n        return node.parentNode\n    },\n    children(node){\n        return node.children\n    },\n    siblings(node){\n        //只有数组可以使用filter\n       return Array.from(node.parentNode.children).filter(n => n!== node)\n    },\n    next(node){\n        let x = node.nextSibling\n        while(x && x.nodeType===3){\n            x = x.nextSibling\n        }\n        return x\n    },\n    previous(node){\n        let x = node.previousSibling\n        while(x && x.nodeType===3){\n            x = x.previousSibling\n        }\n        return x\n    },\n    travel(nodeList,fn){\n        for(let i = 0;i<nodeList.length;i++){\n            fn.call(null,nodeList[i])\n        }\n    },\n    index(node){\n        let x = dom.previous(node)\n        let count =0\n        while(x){\n            x = dom.previous(x)\n            count+=1\n        }\n        return count\n        //或采取遍历其他的兄弟节点\n        // const list = dom.children(node.parentNode)\n        // let i\n        // for(i=0;i<list.length;i++){\n        //     if(list[i]===node)\n        //     break\n        // }\n        // return i\n    }\n\n};"]}